{% extends "layout.html" %}
{% block content %}
  <style>
  .emailerror {
    color:red;
  }
  </style>
  {% if error %}
    <h2 class="emailerror">{{ error }}</h2>
  {% else %}
    <h2>Welcome, dear customer. </h2>
    <small class="form-text text-muted">Get your info with Email before you place the order.</small><br>

  {% endif %}
  <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='app.css') }}">

{#  <div class="container" id="orderDisplay">#}
  <form action="" method="post">
    <div class="row">
    <div class="col-lg-12">
      <div class="input-group">
{#        action="" means current page#}
          <input type="email" class="form-control" placeholder="Get your info with Email before you place the order..." name="customeremail">
          <span class="input-group-btn">
            <button class="btn btn-default" type="submit">Go!</button>
          </span>
      </div><!-- /input-group -->
    </div><!-- /.col-lg-6 -->
  </div><!-- /.row -->
  </form>

  <form id="customerinfo" action="/customerinfo" method="post">
    <div class="form-group">
      <label for="inputEmail">Email</label>
      <input type="email" class="form-control" id="inputEmail" name="email" placeholder="Email" required
             value="{% if customer %}
                      {{ customer[0][1] }}
                    {% endif %}">
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputFirstName">First Name</label>
        <input type="text" class="form-control" id="inputFirstName" name="fname" placeholder="First Name" required
               value="{% if customer %}{{ customer[0][3] }}{% endif %}">
      </div>
      <div class="form-group col-md-6">
        <label for="inputLastName">Last Name</label>
        <input type="text" class="form-control" id="inputLastName" name="lname" placeholder="Last Name" required
               value="{% if customer %}{{ customer[0][2] }}{% endif %}">
      </div>
    </div>
    <div class="form-group">
      <label for="inputAddress">Address</label>
      <input type="text" class="form-control" id="inputAddress" name="address" placeholder="1234 Main St" required
             value="{% if customer %}{{ customer[0][4] }}{% endif %}">
    </div>
    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="inputCity">City</label>
        <input type="text" class="form-control" name="city" id="inputCity"
               value="{% if customer %}{{ customer[0][5] }}{% endif %}">
      </div>
      <div class="form-group col-md-3">
        <label for="inputState">State</label>
        <input type="text" class="form-control" name="state" id="inputState"
               value="{% if customer %}{{ customer[0][6] }}{% endif %}">
      </div>
      <div class="form-group col-md-3">
        <label for="inputCountry">Country</label>
        <input type="text" class="form-control" name="country" id="inputCountry"
               value="{% if customer %}{{ customer[0][8] }}{% endif %}">
      </div>
      <div class="form-group col-md-2">
        <label for="inputZip">PostCode</label>
        <input type="text" class="form-control" name="postcode" id="inputZip" required
               value="{% if customer %}{{ customer[0][7] }}{% endif %}">
      </div>
    </div>

    <div class="card">
      <h3 class="card-header text-center font-weight-bold text-uppercase py-4">List of the Books:</h3>
      <div class="card-body">
        <div id="table" class="table-editable">
          <span class="table-add float-right mb-3 mr-2"></span>
          <table class="table table-bordered table-responsive-md table-striped text-center">
            <thead>
              <tr>
                <th class="text-center">Book ID</th>
                <th class="text-center">Book Title</th>
                <th class="text-center">Qty.</th>
                <th class="text-center">Remove</th>
              </tr>
            </thead>
            <tbody>
              {% for book in books %}
              <tr>
                <td class="pt-3-half" >{{ book[0] }}</td>
                <td class="pt-3-half" >{{ book[1] }}</td>
                <td class="pt-3-half" contenteditable="true">1</td>
                <td>
                  <span class="table-remove"><button type="button"
                      class="btn btn-danger btn-rounded btn-sm my-0">Remove</button></span>
                </td>
              </tr>
              {% endfor %}
              <tr>
                <td colspan="3">Total</td>
                <td><i class="glyphicon glyphicon-usd"></i>20.99</td>
              </tr>
              <tr>
                <td colspan="3"></td>
                <td>
                  <span class="table-remove"><button type="button" class="btn btn-primary btn-rounded btn-md my-0">Place Your Order</button></span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>

  </form>
{% endblock content %}