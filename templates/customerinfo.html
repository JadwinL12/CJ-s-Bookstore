{% extends "layout.html" %}
{% block content %}
  <style>
  .emailerror {
    color:red;
  }
  </style>
  {% if error %}
    <h2 class="emailerror">{{ error }}</h2>
  {% else %}
    <h2>Welcome, dear customer. </h2>
    <small class="form-text text-muted">You can search and update your info if you are registered.</small><br>

  {% endif %}
  <form action="" method="post">
    <div class="row">
    <div class="col-lg-12">
      <div class="input-group">
{#        action="" means current page#}
          <input type="email" class="form-control" placeholder="Search your info with Email..." name="customeremail">
          <span class="input-group-btn">
            <button class="btn btn-default" type="submit">Go!</button>
          </span>
      </div><!-- /input-group -->
    </div><!-- /.col-lg-6 -->
  </div><!-- /.row -->
  </form>

  <small class="form-text text-muted">Please leave your info here first if you are new to us.</small><br>

  <form id="customerinfo" action="/customerinfo" method="post">
    <div class="form-group">
      <label for="inputEmail">Email</label>
      <input type="email" class="form-control" id="inputEmail" name="email" placeholder="Email" required
             value="{% if customer %}
                      {{ customer[0][1] }}
                    {% endif %}">
    </div>
    <div class="form-row">
      <div class="form-group col-md-6">
        <label for="inputFirstName">First Name</label>
        <input type="text" class="form-control" id="inputFirstName" name="fname" placeholder="First Name" required
               value="{% if customer %}{{ customer[0][3] }}{% endif %}">
      </div>
      <div class="form-group col-md-6">
        <label for="inputLastName">Last Name</label>
        <input type="text" class="form-control" id="inputLastName" name="lname" placeholder="Last Name" required
               value="{% if customer %}{{ customer[0][2] }}{% endif %}">
      </div>
    </div>
    <div class="form-group">
      <label for="inputAddress">Address</label>
      <input type="text" class="form-control" id="inputAddress" name="address" placeholder="1234 Main St" required
             value="{% if customer %}{{ customer[0][4] }}{% endif %}">
    </div>
    <div class="form-row">
      <div class="form-group col-md-4">
        <label for="inputCity">City</label>
        <input type="text" class="form-control" name="city" id="inputCity"
               value="{% if customer %}{{ customer[0][5] }}{% endif %}">
      </div>
      <div class="form-group col-md-3">
        <label for="inputState">State</label>
        <input type="text" class="form-control" name="state" id="inputState"
               value="{% if customer %}{{ customer[0][6] }}{% endif %}">
      </div>
      <div class="form-group col-md-3">
        <label for="inputCountry">Country</label>
        <input type="text" class="form-control" name="country" id="inputCountry"
               value="{% if customer %}{{ customer[0][8] }}{% endif %}">
      </div>
      <div class="form-group col-md-2">
        <label for="inputZip">PostCode</label>
        <input type="text" class="form-control" name="postcode" id="inputZip" required
               value="{% if customer %}{{ customer[0][7] }}{% endif %}">
      </div>
    </div>

    <br>
    <div>
      <button type="submit" class="btn btn-primary">Create/Update Your Info</button>
      <small id="updatesucess" class="form-text text-muted">{{ update }}</small>
      <small id="emailHelp" class="form-text text-muted">{{ insert }}</small>
    </div>
    <br>
  </form>
{% endblock content %}